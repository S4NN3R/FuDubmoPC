//# sourceMappingURL=application_reader.js.map
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};var process=process||{env:{NODE_ENV:"development"}};
window.rm_h.compress={toggleInit:function(){if(window.is_a_show_time)return!0;var a=rm_h.settings.getSettingCookie("reader-quality");return"full"===a?!1:"economy"===a?!0:window.matchMedia("screen and (max-width: 600px)").matches},apply:function(){try{if(rm_h.compress.toggleInit())for(var a=0;a<rm_h.servers.length;a++){var b=rm_h.servers[a];if(b.res){for(var c=0;c<rm_h.pics.length;c++){var d=rm_h.pics[c];rm_h.compress.isOkForResize(d)&&-1!=d.url.indexOf(b.path)&&(d.url=d.url.replace("://","://res"))}b.path=
b.path.replace("://","://res");log("using resized server",b)}}else log("no resize")}catch(e){try{log("resize servers",e)}catch(f){}}},isOkForResize:function(a){return 1500<a.w&&1.2<a.w/a.h?!1:690<a.w}};process=process||{env:{NODE_ENV:"development"}};
window.rm_h.resize={borderWidth:1,maxWidth:void 0,type:"real",types:{real:{getNext:function(){return"width"}},width:{getNext:function(){return rm_h.reader.alternativeView?"real":"full"}},full:{getNext:function(){return"real"}}},resizeImg:function(){var a=rm_h.reader.getCurrentPictureSize(),b=a.height;a=a.width;var c=20;rm_h.resize.verySmallScreen()?(c=0,$("#fotocontext").css("margin","0 -10px")):$("#fotocontext").css("margin","");var d=rm_h.wWidth();var e=rm_h.resize.maxWidth;e&&e<d&&(d=e);if("real"!==
rm_h.resize.type||1200<d&&a>d){var f=d-2*rm_h.resize.borderWidth-c;log("resize",d,c,f);d=f/a;"full"!==rm_h.resize.type||rm_h.reader.alternativeView||(e=rm_h.wHeight()-rm_h.resize.borderWidth,d=Math.min(e/b,d),.4>d&&!rm_h.resize.verySmallScreen()&&(d=.4))}else d=1;c=a*d+2*rm_h.resize.borderWidth+c;$("#mangaBox").css("width",c+"px").css("max-width",c+"px");rm_h.reader.setReaderPictureSize(a,b,d,f)},setMaxWidth:function(a){rm_h.resize.maxWidth=a;rm_h.resize.resizeImg()},getCookieName:function(a){void 0===
a&&(a=rm_h.reader.alternativeView);return a?"resize_type_web":"resize_type"},applyZoomType:function(a){rm_h.resize.type=a;rm_h.settings.setSettingCookie(rm_h.resize.getCookieName(),a);"real"===a&&rm_h.reader.scrollPageTop(!0);rm_h.resize.resizeImg()},getDefaultZoom:function(){return rm_h.resize.verySmallScreen()?"width":!rm_h.reader.alternativeView&&rm_h.resize.veryBigScreen()?"full":"real"},init:function(){var a=rm_h.settings.getSettingCookie(rm_h.resize.getCookieName());a||(a=rm_h.resize.getDefaultZoom(),
log("Using default zoom type",a));rm_h.resize.applyZoomType(a);rm_h.resize.maxWidth=rm_h.settings.getSettingCookie("reader-max-width");$(window).resize(function(){rm_h.resize.resizeImg()})},change:function(){log("change size");var a=rm_h.resize.findNextType();rm_h.resize.applyZoomType(a)},findNextType:function(){return rm_h.resize.types[rm_h.resize.type].getNext()},verySmallScreen:function(){return 700>rm_h.wWidth()},veryBigScreen:function(){return 1E3<rm_h.wHeight()&&900<rm_h.wWidth()}};
process=process||{env:{NODE_ENV:"development"}};
window.rm_h.book={setSetting:function(a,b){for(var c=1;8>=c;c++)$("body").removeClass(b+"-"+c);rm_h.settings.setSettingCookie(b,a);rm_h.book.setValue(b,a)},setValue:function(a,b){$("body").addClass(a+"-"+b);$(".settings ."+a).removeClass("current");$(".settings ."+a+"-"+b).addClass("current")},restoreValue:function(a,b){b=rm_h.settings.getSettingCookie(a,b);rm_h.book.setValue(a,b)},prepareText:function(){$(".b-chapter .note").popover({html:!0,trigger:"hover",placement:"auto",content:function(){return $(this).children(".note-content").html()}})},
prepareReader:function(){rm_h.isTouchDevice()&&$(".b-chapter").swipe({swipeLeft:function(){rm_h.reader.scrollOneScreen(!0)},swipeRight:function(){rm_h.reader.scrollOneScreen(!1)},threshold:150})},prepareComments:function(a){a.each(function(a,c){c=$(c);c.filter("img").length||c.append("<span class='p-control no-user-select'><span class='hide js-link' onclick='addParagraphBookmark("+(a+1)+")' title='\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0443 \u043d\u0430 \u0430\u0431\u0437\u0430\u0446'><i class='fa fa-lgg text-info fa-bookmark'></i></span></span>")})},
initReader:function(){try{var a=rm_h.reader.getPageNumFromUrl(),b=$(".b-chapter").find(">p, >div:not(.section), >img, .section>div, .section>img, .section>p");if(a&&b.length>=a){var c=$(b[a-1]).offset().top;$("html, body").animate({scrollTop:c},500)}rm_h.book.prepareText();rm_h.book.prepareReader();rm_h.book.prepareComments(b)}catch(d){log("initReader",d)}}};process=process||{env:{NODE_ENV:"development"}};
rm_h.comments={scrollDown:function(){$("#new-twitt-ph-button").focus()},claim:function(a){var b=window.location.href;0<=b.indexOf("#")&&(b=b.substring(0,b.indexOf("#")));b=b+"#comm_"+a+"&page="+rm_h.cur;a=COMMENTS_CLAIM_URL+"?url="+encodeURIComponent(b);log(a);rm_h.layout.initModalBox(null,a)},openComments:function(){var a=window.rm_h.settings.getSettingCookie("reader-mode");"standard"==a&&$([document.documentElement,document.body]).animate({scrollTop:$("#twitts").offset().top},1E3);"web"==a&&$("#twitter-page-modal").modal("show")},
prepareTwitts:function(){log("prepareTwitts",rm_h.reader.pagesNumber);if(window.current_user_id){var a=$(".twitter .us_"+window.current_user_id);a.find(">.contr>.fa-thumbs-up").remove();a.find(">.contr>.fa-thumbs-down").removeClass("fa-thumbs-down").addClass("fa-trash-alt")}rm_h.comments.collapseBigPages();rm_h.settings.getSettingCookie("comments-hide-mode");rm_h.reader.pagesNumber&&rm_h.comments.updateTwitts(rm_h.comments.currentPage());setTimeout(function(){rm_h.comments.focusOnTwitt()},rm_h.reader.alternativeView?
4E3:100)},currentPage:function(){var a=rm_h.cur;rm_h.reader.alternativeView&&(a=rm_h.reader.pagesNumber-1);return a},renderExpandBtn:function(a,b,c){$(a).after('<div class="expand-twitts-button" onclick="rm_h.comments.expandForPage('+c+')"><span class="js-link">\u0421\u043a\u0440\u044b\u0442\u043e <span class="badge badge-warning">'+b+"</span> \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c</span></div>")},collapseBigPages:function(){var a=
rm_h.settings.getSettingCookie("comments-hide-mode");"noCollapse"!=a&&$(".twitter>div.cm").each(function(){var b=$(this),c=b.data("page");b=b.children(".comm");var d=b.length;rm_h.utils.getFragment("comm_",!0)||("all"==a?(b.addClass("hide"),d&&rm_h.comments.renderExpandBtn(b.last(),d,c)):8<d&&b.each(function(a,b){a+4<d&&($(b).addClass("hide"),a+4==d-1&&rm_h.comments.renderExpandBtn(b,a+1,c))}))})},expandForPage:function(){var a=rm_h.comments.currentPage();a=$(".twitter>div.cm_"+a+", .modal-twitter>div.cm");
a.children(".comm").removeClass("hide");a.find(".expand-twitts-button").remove()},focusOnTwitt:function(){var a=rm_h.utils.getFragment("comm_");a&&(rm_h.comments.expandForPage(),a=$("#"+a+">.mess"),a.length?a.focus():$("#twitts").focus())},updateTwitts:function(a){$(".twitter>div.cm").toggleClass("hide",!0);log("!!!updateTwitts",a);$(".twitter>div.cm_"+a).toggleClass("hide",!1)},showForm:function(a,b,c){var d=$(a).attr("id");$(a).hide();a=b?".comm#comm_"+b+">.mess":"#"+c;log("Searching for selector",
a,"buttonId",d);c=$(a).next(".twitter-form");c.length?c.show():(c=$(".form-new-twitt-template").html(),d=$('<div class="twitter-form"/>').data("parent-id",b).data("button-id",d).html(c),b&&(d.find(".panel-heading").html("\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),d.find(".save-button span").html('<i class="fa fa-paper-plane"></i> \u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c'),d.find(".no-answer-input").hide()),
d.insertAfter(a),b=d.find("#twittMessage"),window.rm_h.ui.textarea.initTextArea(b),b.focus())},submitForm:function(a){var b=$(a).parents(".twitter-form"),c=b.data("parent-id"),d=b.find("#twittMessage"),e=b.find("#spoiler").prop("checked"),f=b.find("#noAnswer").prop("checked");log(a,b,d,c);d=d.val();if(!d||1>d.length)log("short message",d);else{var g=b.find(".btn-success");g.find(".fa").removeClass("hide");g.attr("disabled","disabled");setTimeout(function(){g.find(".fa").addClass("hide");g.removeAttr("disabled")},
5E3);$.ajax({url:COMMENTS_SAVE_URL,method:"POST",data:{message:d,parentId:c,page:rm_h.cur,spoiler:e,noAnswer:f},success:function(b){log("success",a);rm_h.comments.hideForm(!0,a,"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d. \u0421\u043a\u043e\u0440\u043e \u043e\u043d \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f")}})}},hideForm:function(a,b,c){b=$(b).parents(".twitter-form");var d=b.data("button-id");log("hide!!",
b,d);c&&$("<div class='alert alert-info'/>").html(c).insertAfter(b).fadeOut(5E3);a?b.remove():b.hide();$("#"+d).show()}};process=process||{env:{NODE_ENV:"development"}};
window.rm_h.reader={pagesNumber:0,setMobileTotalPages:function(){$(".max-number").text(rm_h.reader.pagesNumber)},setMobileMenuCurrentPage:function(){$(".cur-number").text(rm_h.cur+1)},initPages:function(){rm_h.reader.goPage(rm_h.reader.getPageNumFromUrl());setTimeout(function(){rm_h.resize.resizeImg()},1E3)},getPageNumFromUrl:function(){return+rm_h.utils.getFragment("page=",!0,0)},goNext:function(a){rm_h.reader.goPage(rm_h.cur+1,a)},goPrev:function(a){rm_h.reader.goPage(rm_h.cur-1,a)},goPage:function(a,
b){this.setMobileTotalPages();a=1*a||0;$(".mangaReloadPic").hide();$(".mangaProgress").show();if(rm_h.reader.changeControl(a))$(".mangaProgress").hide(),$(".mangaReloadPic").show();else{var c=rm_h.pics[a];c.c=!0;$(".page-selector").val(a);if("replaceState"in history){var d=rm_h.utils.getFragment("page=",!0,null);if(null==d||d!=a)0<a?history.replaceState(null,null,"#page="+a):document.location.hash&&d&&history.replaceState(null,null,"#")}rm_h.preloadIndex=a+1;d=$("#mangaPicture");c=rm_h.reader.buildPicture(c,
a);c.appendTo($("#fotocontext"));d.attr("id","nextPicture");rm_h.resize.resizeImg();d.hide();c.show();d.remove();rm_h.reader.scrollPageTop(b);log("Go to page");rm_h.comments.updateTwitts(rm_h.cur);rm_h.updateAds(c[0],a);this.setMobileMenuCurrentPage()}},buildPicture:function(a,b){var c=!rm_h.reader.alternativeView,d=c?a.url:"#";a=$("<img class='hide' data-page='"+b+"'/>").on("load",function(){log("Loaded image",$(this).data("page"));rm_h.reader.preloadImages();c&&($(".mangaProgress").hide(),$(".mangaReloadPic").show())}).click(function(){rm_h.reader.goNext()}).attr({src:d,
rH:a.h,rW:a.w,id:"mangaPicture",pageNum:b,class:"manga-img_"+b});c&&rm_h.reader.setupOnPicError(a);return a},setupOnPicError:function(a){a.on("error",function(a){var b=$(this).data("page");log("error on page",b,a);rm_h.reader.reloadWrongPicture(b);rm_h.onPictureError(rm_h.pics[b].url);rm_h.reader.preloadImages();rm_h.reader.alternativeView||($(".mangaProgress").hide(),$(".mangaReloadPic").show())})},preloadImages:function(){if(!(rm_h.preloadIndex>=rm_h.pics.length||rm_h.preloadIndex>rm_h.cur+rm_h.preloadDeep))if(rm_h.pics[rm_h.preloadIndex].c)rm_h.preloadIndex++,
rm_h.reader.preloadImages();else{var a=$("<img class='mg_nomark'/>").attr("src",rm_h.pics[rm_h.preloadIndex].url);rm_h.pics[rm_h.preloadIndex++].c=!0;a.on("load",function(){rm_h.reader.preloadImages()}).on("error",function(){rm_h.reader.preloadImages()});$("#mangaBox").append(a)}},refreshPicture:function(){var a=rm_h.cur,b=rm_h.pics[a];b.count=void 0;b.loadingError=void 0;rm_h.reader.reloadWrongPicture(a)},reloadWrongPicture:function(a){var b=rm_h.pics[a];void 0===b.count&&(b.count=0);if(1<b.count)b.loadingError=
!0;else{b.count++;for(var c=b.url.indexOf("/",10)+1,d=0;d<rm_h.servers.length;d++)if(0<=b.url.indexOf(rm_h.servers[d].path)){b.url=rm_h.servers[d+1].path+b.url.substring(c);rm_h.reader.updateWrongPicture(a);break}}},updateWrongPicture:function(a){$("#mangaPicture").attr("pageNum")==a&&rm_h.reader.goPage(rm_h.cur,!0)},drawControls:function(){rm_h.reader.showHint();try{$(".pages-count").append(rm_h.reader.pagesNumber);$(".pages-count-title").attr("title","\u041d\u043e\u043c\u0435\u0440 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0412\u0441\u0435\u0433\u043e "+
rm_h.reader.pagesNumber);for(var a=$(".page-selector"),b=0;b<rm_h.reader.pagesNumber;b++)a.append("<option value='"+b+"'>"+(b+1)+"</option>");$(".footerControl").append($(".topControl").clone())}catch(c){}},changeControl:function(a){if(a>rm_h.reader.pagesNumber||-1>a||a>=rm_h.reader.pagesNumber&&!nextLink||0>a&&!prevLink)return!0;rm_h.cur=a;$("#mangaPicture").show();if(0>a&&prevLink)return $(".prevChapLink").show(),$("#mangaPicture").hide(),rm_h.reader.disableButton(".prevButton",!0),!0;if(0==a&&
!prevLink)return rm_h.reader.disableButton(".prevButton",!0),!1;a>=rm_h.reader.pagesNumber&&nextLink&&rm_h.goToChapter(nextChapterLink);if(a==rm_h.reader.pagesNumber-1&&!nextLink)return rm_h.reader.disableButton(".nextButton",!0),!1;$(".nextChapLink, .prevChapLink").hide();rm_h.reader.disableButton(".prevButton, .nextButton",!1);return!1},getCurrentPictureSize:function(){var a=$("#mangaPicture"),b=a.attr("rH");return{width:a.attr("rW"),height:b}},setReaderPictureSize:function(a,b,c,d){$("#mangaPicture").attr("width",
a*c).attr("height",b*c)},showHint:function(){var a=rm_h.settings.getSettingCookie("hide-hint");a&&"false"!=a||$("#helpHint").show()},closeHint:function(){rm_h.settings.setSettingCookie("hide-hint",!0);$("#helpHint").hide()},disableButton:function(a,b){b?$(a).attr("disabled","disabled"):$(a).removeAttr("disabled")},scrollPageTop:function(a){if(!a&&!rm_h.isFirstPage)if("real"!=rm_h.resize.type){if(a=$("#mangaPicture")[0])a=rm_h.findPosY(a),window.scroll(0,a)}else window.scroll(0,75);rm_h.isFirstPage=
!1},scrollOneScreen:function(a){var b=$(window),c=b.scrollTop();b=b.height();$("html, body").animate({scrollTop:(a?1:-1)*b+c},0)}};process=process||{env:{NODE_ENV:"development"}};
window.rm_h.reader_alternative={drawControls:function(){$(".footerControl").append($(".topControl").clone());rm_h.reader.showHint()},hidePageControl:function(){$(".control-mobile__page").hide()},initPages:function(){this.hidePageControl();$("#mangaPicture").remove();var a=$("#fotocontext");$.each(rm_h.pics,function(b,c){b=rm_h.reader.buildPicture(c,b);a.append(b);a.append("<br/>")});rm_h.resize.resizeImg();setTimeout(function(){rm_h.resize.resizeImg()},1E3);rm_h.reader.curPageObserver.setup();rm_h.reader.preloadImages(1);
$(".mangaProgress").hide();$(".mangaReloadPic").show()},curPageObserver:{getVisibleHeight:function(a){var b=a.offset().top;a=b+a.outerHeight();var c=$(window).scrollTop(),d=c+$(window).height();return a<=c||b>=d?0:b>=c&&a<=d?a-b:b<c?a-c:d-b},tempPage:null,renderCommentsPage:function(){var a=$("#twitter-page-modal"),b=window.rm_h.reader_alternative.curPageObserver.tempPage,c=Number(b)+1,d=a.find(".prev-com"),e=a.find(".next-com");console.log(0==c-1,c+1>window.rm_h.reader.pagesNumber,d,e);d.prop("disabled",
0==c-1);e.prop("disabled",c+1>window.rm_h.reader.pagesNumber);b=$(".cm.cm_"+b);a.find(".modal-title .page").text(c);0<b.length?a.find(".existing-comments").html(b.html()).find(".processed-screenshot").removeClass("processed-screenshot"):a.find(".existing-comments").html("<p class='alert alert-info'>\u041f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442, \u043f\u0438\u0448\u0438</p>");initBaseElementsOnPage(".existing-comments")},prevPage:function(){window.rm_h.reader_alternative.curPageObserver.tempPage--;
this.renderCommentsPage()},nextPage:function(){window.rm_h.reader_alternative.curPageObserver.tempPage++;this.renderCommentsPage()},setup:function(){$(document).ready(function(){$("#twitter-page-modal").on("show.bs.modal",function(){window.rm_h.reader_alternative.curPageObserver.tempPage=rm_h.cur;window.rm_h.reader_alternative.curPageObserver.renderCommentsPage(rm_h.cur)});$("#twitter-page-modal").on("hide.bs.modal",function(){window.rm_h.reader_alternative.curPageObserver.tempPage=null});var a=rm_h.utils.getFragment("page=",
!0),b=rm_h.utils.getFragment("comm_",!0);a&&b&&(rm_h.cur=a,$("#twitter-page-modal").modal("show"),setTimeout(function(){var a=$("#comm_"+b).offset().top;$(".existing-comments.cm").animate({scrollTop:a})},300))});rm_h.cur=-1;$(function(){$(window).scroll(function(){var a=$(this).scrollTop();rm_h.reader.curPageObserver.findCur(0<a)})});1==rm_h.reader.pagesNumber&&$(".comments-selector").hide();rm_h.reader.curPageObserver.findCur();setTimeout(function(){rm_h.reader.curPageObserver.findCur()},300)},findCur:function(a){a=
void 0===a?!1:a;var b=0,c=null,d=0;$(".max-number").text($("#fotocontext img").length);$("#fotocontext img").each(function(){var e=$(this),f=rm_h.reader.curPageObserver.getVisibleHeight(e);d=e.data("page")+0;a?b<f&&(c=d,b=f):f>b&&(c=d,b=f)});if(null==c)$(".comments-selector").hide(),rm_h.cur=d;else{$(".comments-selector").show();var e=rm_h.cur+1==rm_h.reader.pagesNumber,f=$(".comments-button");if(c!=rm_h.cur||e||!f.hasClass("created"))rm_h.cur=c,rm_h.reader.preloadImages(),$(".cur-number").text(c+
1),f.toggle(!e).addClass("created"),e=$("#twitts .cm_"+rm_h.cur+".cm .comm").length,$(".comments-button .badge").html(e||""),e?$(".control-mobile__comments-count").text(e).show():$(".control-mobile__comments-count").text("").hide()}}},goNext:function(a){rm_h.reader.scrollOneScreen(!0)},goPrev:function(a){rm_h.reader.scrollOneScreen(!1)},goPage:function(a,b){},preloadImages:function(a){a=a||rm_h.preloadDeep;$.each(rm_h.pics,function(b,c){b<=rm_h.cur-a||b>=rm_h.cur+a||c.c||(b=$("#mangaPicture.manga-img_"+
b),rm_h.reader.setupOnPicError(b),b.attr("src",c.url),c.c=!0)})},refreshPicture:function(){var a=rm_h.cur;$.each(rm_h.pics,function(b,c){c.loadingError&&(c.count=void 0,c.loadingError=void 0,rm_h.reader.reloadWrongPicture(a))})},updateWrongPicture:function(a){var b=rm_h.pics[a].url;$("#mangaPicture.manga-img_"+a).attr("src",b)},getCurrentPictureSize:function(){var a=0;$.each(rm_h.pics,function(b,c){c.w>a&&(a=c.w)});return{width:a,height:0}},setReaderPictureSize:function(a,b,c,d){$.each(rm_h.pics,
function(a,b){var e=b.w;b=b.h;if(1!==c){var f=d/e;e=d;b*=f}$("#mangaPicture.manga-img_"+a).attr("width",e).attr("height",b)})},alternativeView:!0};process=process||{env:{NODE_ENV:"development"}};
window.rm_h=$.extend({findPosY:function(a){var b=0;if(a.offsetParent)for(;;){b+=a.offsetTop;if(!a.offsetParent)break;a=a.offsetParent}else a.y&&(b+=a.y);return b},wHeight:function(){return $(window).height()},wWidth:function(){return $(window).width()},updateAds:function(a,b){try{changePictureEvent(a,b)}catch(c){}},isTouchDevice:function(){return"ontouchstart"in window||"onmsgesturechange"in window||!!navigator.msMaxTouchPoints},showEarlyAccess:function(a){$(document).ready(function(){if(!rm_h.settings.checkSettingCookie("early-access-"+
a)){var b=$("#early-access-modal"),c=$("#early-access-modal .progress-bar"),d=0;b.modal("show");window.rm_h.settings.setSettingCookie("early-access-"+a,!0,1);var e=setInterval(function(){d++;var a=d/30*100;c.attr("aria-valuenow",a);c.attr("style","width: "+a+"%");30==d&&(b.modal("hide"),clearInterval(e))},1E3)}})},goToChapter:function(a){location.href=a;return!1},onPictureError:function(a){!a||0==a.length||"#"==a||a.indexOf("empty.gif")},initReader:function(a,b,c,d,e,f){for(a=0;a<b.length;a++)c=b[a],
b[a]={url:c[0]+c[2],w:c[3],h:c[4]};rm_h.pics=b;rm_h.servers=e;rm_h.compress.apply();rm_h.servers.push(rm_h.servers[0]);d&&(log("web init"),rm_h.reader=$.extend(rm_h.reader,rm_h.reader_alternative));rm_h.reader.pagesNumber=b.length;rm_h.reader.drawControls();rm_h.resize.init();f?($(".pager-control").css("visibility","hidden"),$(".mangaProgress").hide(),rm_h.reader.pagesNumber=1,log("planned chapter")):(rm_h.reader.initPages(),$(document).keyup(function(a){try{var b=a.target.tagName;if("INPUT"==b||
"TEXTAREA"==b||"SELECT"==b)return!1}catch(h){}switch(a.keyCode){case 32:showNotySingleMessage("\u041c\u0430\u0441\u0448\u0442\u0430\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d. \u041d\u043e \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u043a\u043d\u043e\u043f\u043a\u043e\u0439 Z \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e. \u0421\u043a\u043e\u0440\u043e \u043f\u0440\u043e\u0431\u0435\u043b \u043d\u0430\u0447\u043d\u0435\u0442 \u0441\u043a\u0440\u043e\u043b\u0438\u0442\u044c!");
case 90:return rm_h.resize.change(),a.stopPropagation(),!1;case 37:return rm_h.reader.goPrev(),a.stopPropagation(),!1;case 39:return rm_h.reader.goNext(),a.stopPropagation(),!1}}),$(function(){rm_h.settings.prepareReaderSettings()}))},pics:void 0,servers:void 0,cur:0,length:0,isFirstPage:!0,preloadIndex:0,preloadDeep:3},window.rm_h);process=process||{env:{NODE_ENV:"development"}};